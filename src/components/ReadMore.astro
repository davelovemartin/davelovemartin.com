---
import { getCollection } from "astro:content";
interface Props {
  theme: string;
  title: string;
}

const { theme, title } = Astro.props;

const posts = await getCollection("thoughts");
const filteredPosts = posts.filter(
  (post) =>
    !post.data.draft && post.data.theme === theme && post.data.title !== title
);
---

<hr />
<h2>Read more&hellip;</h2>
<ul>
  {filteredPosts.map((post) => (
    <li>
      <a href={post.slug}>{post.data.title}</a>{" "}
      <span>({post.data.description})</span>
    </li>
  ))}
</ul>
